<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>07_array.html</title>
</head>
<body>
    <h1>Array</h1>
    <p>
        자바에서의 배열과 비슷. 거의 arrayList와 동일
        배열생성 [], new Array()를 이용하는 방법이 있음
        배열의 길이는 자동으로 증가함
        접근하거나 값을 대입할때는 인덱스를 이용
    </p>
    <script>
        // 배열 선언하기
        var arr = new Array();
        // 길이를 지정하여
        arr = new Array(10);
        arr[9] = '댕댕이';
        console.log(arr);
        arr[19] = 222; // arr 자동으로 길이 증가 10->20
        console.log(arr.length);
        console.log(arr[19]);
        console.log(arr[18]); //undefined

        arr = new Array("유병승", 19, "바바", 180.5, true);
        console.log(arr);

        // 쓰지 마세요! for in문 자체가 key & value 형식에 사용
        // 하는 것으로, 배열에 사용. 이상한 값이 전달될 수 있음
        for(var i in arr) console.log(arr[i]); //주의!
        arr[0] = 2002;
        console.log(arr[0]);

        // 배열선언 두번째 방법 []
        var arr2 = [];
        arr2 = ['유병승', 19, 2002, "WorldCup", function(){alert("fighting!")}, 
            {product: 'pc', owner: 'baba'}];
        console.log(arr2);
        arr2[4]();

        console.log(arr2[5]["product"]);

        arr2[6] = ["1", 2, 3, 4]

        console.log(arr2[6][0]);
        console.log(arr2[6][1]);
        console.log(arr2[6][2]);
        console.log(arr2[6][3]);

        // 이건 추가적인 거. 위에만 이용해도 상관없음. 제발 
        arr2[7] = 0;
        arr2['hot'] = 'hot20';
        console.log(arr2); // 하지만 length = 8
        console.log(arr2['hot']);
    </script>

    <h1>배열 메서드 활용.</h1>
    <h4>indexOf : 배열의 요소가 위치하고 있는 index 번호를 리턴</h4>
    <div id="area"></div>
    <button onclick="indexOfTest()">실행</button>
    <script>
        function indexOfTest(){
            var doc = document.getElementById("area");
            var arr1 = ["닭봉", "소곱장", "낙곱새", "족발", "파스타"];
            doc.innerHTML += "arr1 : " + arr1+ "<br/>"
            doc.innerHTML += "arr1.indexOf('족발'): "+arr1.indexOf('족발') + "<br>"; //3
            arr1[arr1.indexOf('족발')] = '불족발';
            doc.innerHTML += "arr1 : " + arr1+ "<br/>"
        }
    </script>

    <h3>concat: 두개 이상의 배열을 합치는 것</h3>
    <div id="area1"></div>
    <button onclick="concatTest();">실행</button>
    <script>
        function concatTest(){
            var ani = ["원숭이", "강아지", "고양이", '사자'];
            var ani2 = ['구피', '고등어', '갈치', '금붕어'];
            var ani3 = ['참새', '공작새', '앵무새'];
            // var sumAni = ani.concat(ani2);
            var sumAni =  ani.concat(ani2, ani3);

            var doc = document.getElementById('area1');
            doc.innerHTML += "ani : " + ani + "<br>";
            doc.innerHTML += "ani2 : " + ani2 + "<br>";
            doc.innerHTML += "ani3 : " + ani3 + "<br>";
            doc.innerHTML += "sumAni : " + sumAni + "<br>";
            
        }
    </script>

    <h4>join: 배열을 합치는 작업 -> 문자열로 합치는 것</h4>
    <p>문자열을 합칠때 사용할 구분자를 매개변수로 넣어줌</p>
    <div class="area2"></div>
    <button onclick="joinTest();">실행</button>
    <script>
        function joinTest() {
            var doc = document.getElementsByClassName('area2')[0]; //className 한개이므로
            var dino = ['티라노','스테고사우르스','파키케팔로사우르스','파라사우롤로프스'];
            doc.innerHTML += dino + typeof(dino) + "<br>"; //object
            var dinoStr = dino.join();
            doc.innerHTML += dinoStr + typeof(dinoStr) + "<br>"; //string
            var dinoStr = dino.join("/");
            doc.innerHTML += dinoStr + typeof(dinoStr) + "<br>"; //string
        }
    </script>

    <h4>sort: 배열을 내림차순, 오름차순으로 정렬해주는 기능</h4>
    <div name="area3"></div>
    <button onclick="sortTest()">실행</button>
    <script>
        function sortTest(){
            var doc = document.getElementsByName('area3')[0];
            var arr = [5, 4, 8, 2, 9 ,1];
            doc.innerHTML += "기본정렬 : " + arr.sort() + "<br>";
            // 원하는 대로 정렬하고 싶을땐?
            // 정렬하는 함수를 매개변수로 넣어주면 됨.
            doc.innerHTML += "내림차순정렬 : " + arr.sort(descSort) + "<br>";
            doc.innerHTML += "내림차순정렬 : " + arr.sort(function(left,right){ return right-left;}) + "<br>";
            doc.innerHTML += "오름차순정렬 : " + arr.sort(function(left,right){ return left-right;}) + "<br>";

            var strs = ['라', '가', '사', '나', '자', '다'];
            doc.innerHTML += '문자 기본정렬 : ' + strs.sort() + "<br>";
            // doc.innerHTML += '문자 내림차순정렬 : ' + strs.sort(descSort) + "<br>";
            // 문자열 - 마이너스 연산 안됨
            doc.innerHTML += '문자 내림차순정렬 : ' + strs.sort(descSortString) + "<br>";
        }
        function descSort(left, right){
            return right - left;
        }
        function descSortString(left, right){
            if(left>right) return -1;
            else if (right > left) return +1;
            else return 0;
        }
    </script>

    <h4>배열의 값을 수정하는 함수</h4>
    <p>
        push() / pop()
          - push : 배열의 맨뒤에 값을 추가하는 기능
          - pop : 배열의 맨뒤에 값을 삭제하는 기능
    </p>
    <div id="area4"></div>
    <button onclick="updateArr();">실행</button>
    <script>
        function updateArr(){
            var doc = document.getElementById('area4');
            var arr = ["롯데", '애플', '테슬라', "아무생각"];

            doc.innerHTML += "arr : " + arr + "<br>";
            arr.push("씨스타");
            arr.push({name: '태엽', age:28});
            doc.innerHTML += "arr(push) : " + arr + "<br>";
            arr.pop();
            doc.innerHTML += "arr(pop) : " + arr + "<br>";
            arr.pop();
            arr.pop();
            arr.pop();
            arr.pop();
            doc.innerHTML += "arr(pop) : " + arr + "<br>";
        }
    </script>


    <h3>unshift/shift</h3>
    <p>
        unshift : 배열의 맨앞에 값을 추가<br>
        shift: 배열의 맨앞의 값을 삭제
    </p>
    <div id="area5"></div>
    <button onclick="frontAdd();">앞에추가</button>
    <script>
        function frontAdd(){
            var doc=document.getElementById("area5");
            var players=["마테라치","지단","즐라탄","메시"];
            doc.innerHTML+=players+"<br>";
            doc.innerHTML+=players.unshift("손흥민")+"<br>";
            doc.innerHTML+=players+"<br>";
            doc.innerHTML+=players.unshift("프링글스")+"<br>";
            doc.innerHTML+=players+"<br>";
            doc.innerHTML+=players.shift()+"<br>";
            doc.innerHTML+=players+"<br>";
        }
    
    </script>
    <h3>slice/splice</h3>
    <p>
        slice(number(idx1), number(idx2))
         : 배열의 값(요소) 선택해서 새로운 배열로 출력 (substring)

        splice(start, deletecount, value)
         : 배열이 index위치의 요소(start ~ deletecount-1)를 제거하고
           value를 추가.(deletecount 없으면, 단순히 그 위치에 추가)
    </p>

    <div id="area6"></div>
    <button onclick="sliceTest()">slice/splice</button>
    <script>
        function sliceTest(){
            var doc = document.getElementById("area6");

            /* SPLICE */
            var snack = ['새우깡', '촉촉초코칩', '포테이토칩', '홈런볼'];
            doc.innerHTML += snack+"<br>";
            // doc.innerHTML += snack.splice(0, 2) + "<br>"; //제거됨

            var snack2 = snack.splice(0,2, "고구마깡", "감자깡", "카드깡");
            //index 0에 넣되, 0~(2-1) index에 해당하는 값들을 지움

            // var snack2 = snack.splice(2,0, "고구마깡", "감자깡", "카드깡");
            //index 2에 세개를 넣음(0: 지우지 않음)
            doc.innerHTML += "snack2 : " + snack2+ "<br>";
            doc.innerHTML += "snack : " + snack+ "<br>"; //empty


            /* SLICE */
            var snack3 = snack.slice(2,3); //snack에서는 제거 하지 않고 단순히 subset을 가져옴
            doc.innerHTML += snack3 + "<br>";
            doc.innerHTML += typeof(snack3) + "<br>"; //array(object)로 반환
        }
    </script>

    <br>
    <input type="text" id="input" placeholder="다중 값은 ,로 구분" style="color:gray">
    <button onclick="addFood()">음식 추가</button>
    <div id="foodMenu"></div>
    <br>


    <!-- MY SOL -->
    <input type="text" id="idx" placeholder="출력할 메뉴 인덱스 입력!" style="color:gray">
    <button onclick="printIdx()">위치 출력</button>
    <div id="foodMenuAt"></div>
    <script>
        /*   PRACTICE
            먹방리스트를 배열로 추가하는 
            사용자한테 입력받은 값(prompt/input)으로 배열에 추가.
            button을 사용하여 사용자가 원하는 위치에 있는 배열값들을 출력
            food배열만들고 추가 원하는 위치 받아서 추가, 출력
        */
        var foodArr = [];

        function addFood(){
            var input = document.getElementById("input").value;
            // var array = JSON.parse("[" + input + "]");
            var array = input.split(",");
            for(var i = 0; i<array.length; i++){
                foodArr.push(array[i]);
            }

            
            var doc = document.getElementById('foodMenu');
            for(var i =0; i<foodArr.length; i++){
                doc.innerHTML += foodArr[i] + " ";

            }
            doc.innerHTML += "<br>";
        }

        function printIdx(){
            var idx = document.getElementById('idx').value;

            var doc = document.getElementById('foodMenuAt');
            doc.innerHTML += foodArr[idx] + "<br>"
        }

    </script>


    <!-- LEC SOL -->
    <h3>실습문제 풀기</h3>

    음식추가<input type="text" name="foods" placeholder="여러개 입력시 ,로 구분">
    <button onclick="addFood2()">음식추가</button>
    <br>
    음식추가<input type="text" name="position" id="position" placeholder="추가할 위치 입력">
    <button onclick="positionAdd()">위치에추가</button>
    <div id="print"></div>

    <script>
        var food = [];
        function addFood2(){
            var items = document.getElementsByTagName('input');

            for(var i =0; i<items.length; i++){
                if(items[i].name == "foods"){
                    var foodvalue = items[i].value;
                    var idx = i;

                    //for loop 밖에서도 사용가능
                    //block 속성이 범위를 정하지 않음
                }
            }

            var doc = document.getElementById('print');
            // var temp = items[idx].value;
            // console.log(temp);
            console.log(foodvalue);

            food = food.concat(foodvalue.split(",")); //배열
            doc.innerHTML += "음식추가 : " + food + "<br>";
        }

        function positionAdd(){
            var doc=document.getElementById("print");
            var nameItems=document.getElementsByName("foods")[0];
            var foodvalue=nameItems.value;
            nameItems.value=" ";
            var count=document.getElementById("position").value;
            document.getElementById("position").value=" ";
            food.splice(count,0,foodvalue);
            doc.innerHTML+="음식추가 : "+food+"<br>";
        }

    </script>
</body>
</html>